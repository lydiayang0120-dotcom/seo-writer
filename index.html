<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr.Shine SEO & AEO æŒ‡æ®ä¸­å¿ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        shine: {
                            black: '#000000',
                            gold: '#D4AF37',
                            googleBlue: '#1a0dab',
                            googleGreen: '#006621',
                            googleGray: '#545454'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Microsoft JhengHei', sans-serif; background-color: #f0f2f5; }
        .shine-border { border: 1px solid #D4AF37; }
        /* Google SERP æ¨¡æ“¬æ¨£å¼ */
        .serp-preview { font-family: arial, sans-serif; }
        .serp-title { color: #1a0dab; font-size: 20px; line-height: 1.3; cursor: pointer; text-decoration: none; }
        .serp-title:hover { text-decoration: underline; }
        .serp-url { color: #006621; font-size: 14px; line-height: 1.3; margin-bottom: 2px; }
        .serp-desc { color: #545454; font-size: 14px; line-height: 1.4; word-wrap: break-word; }
        
        /* ç·¨è¼¯å€ */
        #editor { min-height: 400px; outline: none; line-height: 1.8; }
        #editor h2 { font-size: 1.5em; font-weight: bold; margin: 20px 0 10px; border-left: 4px solid #D4AF37; padding-left: 10px; }
        #editor h3 { font-size: 1.25em; font-weight: bold; margin: 15px 0 8px; color: #444; }
        #editor p { margin-bottom: 15px; }
        
        /* ç‹€æ…‹ç‡ˆ */
        .status-dot { height: 10px; width: 10px; border-radius: 50%; display: inline-block; margin-right: 5px; }
        .bg-green-500 { background-color: #10B981; }
        .bg-red-500 { background-color: #EF4444; }
        .bg-yellow-500 { background-color: #F59E0B; }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

    <header class="bg-shine-black text-shine-gold p-3 shadow-lg flex justify-between items-center border-b border-shine-gold z-10">
        <div class="flex items-center gap-3">
            <span class="text-xl font-bold tracking-widest">DR.SHINE</span>
            <span class="text-xs bg-shine-gold text-black px-2 py-1 rounded font-bold">SEO Command Center</span>
        </div>
        <div class="flex gap-4 text-xs text-white">
            <div id="seoScoreBadge" class="flex items-center gap-2 px-3 py-1 border border-shine-gold rounded">
                SEO å¥åº·åº¦ï¼š<span id="seoScore" class="font-bold text-shine-gold text-lg">0</span>/100
            </div>
        </div>
    </header>

    <div class="flex flex-1 h-full overflow-hidden">
        
        <aside class="w-[30%] bg-white border-r border-gray-300 flex flex-col overflow-y-auto">
            <div class="p-5 border-b border-gray-200 bg-gray-50">
                <h3 class="font-bold text-gray-700 mb-3 flex items-center">
                    ğŸ” é—œéµå­—è¨­å®š
                </h3>
                <input type="text" id="focusKeyword" placeholder="è¼¸å…¥æ ¸å¿ƒé—œéµå­— (å¦‚: é³³å‡°é›»æ³¢)" class="w-full p-2 border border-gray-300 rounded focus:border-shine-gold outline-none mb-2 text-sm" oninput="analyzeSEO()">
                <div class="flex justify-between text-xs text-gray-500">
                    <span>å¯†åº¦: <b id="kwDensity">0%</b></span>
                    <span>æ¬¡æ•¸: <b id="kwCount">0</b></span>
                </div>
            </div>

            <div class="p-5 flex-1">
                <h3 class="font-bold text-gray-700 mb-3 flex items-center">
                    ğŸ“ Meta è³‡æ–™ (æœå°‹çµæœè¨­å®š)
                </h3>
                
                <div class="mb-4">
                    <label class="block text-xs font-bold text-gray-600 mb-1">SEO æ¨™é¡Œ (Title Tag)</label>
                    <input type="text" id="metaTitle" placeholder="å…‰æ¾¤è¨ºæ‰€ - å°ˆæ¥­é†«ç¾é¦–é¸..." class="w-full p-2 border border-gray-300 rounded focus:border-shine-gold outline-none text-sm" oninput="updatePreview()">
                    <div class="text-right text-xs mt-1"><span id="titleCount">0</span>/60 å­—</div>
                </div>

                <div class="mb-4">
                    <label class="block text-xs font-bold text-gray-600 mb-1">Meta æè¿° (Description)</label>
                    <textarea id="metaDesc" rows="3" placeholder="è®“æœå°‹è€…æƒ³é»æ“Šçš„èª˜äººæè¿°..." class="w-full p-2 border border-gray-300 rounded focus:border-shine-gold outline-none text-sm" oninput="updatePreview()"></textarea>
                    <div class="text-right text-xs mt-1"><span id="descCount">0</span>/160 å­—</div>
                </div>

                <div class="mt-6 p-4 bg-white border border-gray-200 rounded shadow-sm">
                    <p class="text-xs text-gray-400 mb-2 font-bold">Google æœå°‹çµæœé è¦½ (è¡Œå‹•ç‰ˆ)</p>
                    <div class="serp-preview">
                        <div class="serp-url">dr-shine.com.tw â€º blog â€º <span id="previewSlug">article</span></div>
                        <div class="serp-title" id="previewTitle">è«‹è¼¸å…¥æ¨™é¡Œ...</div>
                        <div class="serp-desc" id="previewDesc">è«‹è¼¸å…¥æè¿°...</div>
                    </div>
                </div>
            </div>
        </aside>

        <main class="w-[50%] bg-gray-50 flex flex-col relative">
            <div class="bg-white p-2 border-b border-gray-200 flex gap-2 shadow-sm">
                <button onclick="insertTemplate('aeo')" class="px-3 py-1 bg-black text-shine-gold text-xs font-bold rounded hover:bg-shine-gold hover:text-black transition">
                    + AEO å•ç­”æ¨¡çµ„
                </button>
                <button onclick="insertTemplate('h2')" class="px-3 py-1 bg-white border border-gray-300 text-xs font-bold rounded hover:bg-gray-100">
                    H2 å‰¯æ¨™é¡Œ
                </button>
                <button onclick="insertTemplate('cta')" class="px-3 py-1 bg-white border border-gray-300 text-xs font-bold rounded hover:bg-gray-100">
                    æ’å…¥ CTA
                </button>
            </div>

            <div class="flex-1 p-8 overflow-y-auto">
                <div class="max-w-3xl mx-auto bg-white min-h-[800px] shadow-xl p-10 shine-border">
                    <input type="text" id="h1Input" placeholder="åœ¨æ­¤è¼¸å…¥æ–‡ç« å¤§æ¨™é¡Œ (H1)" class="w-full text-2xl font-bold mb-6 border-b border-gray-200 pb-2 outline-none" oninput="analyzeSEO()">
                    <div id="editor" contenteditable="true" class="text-gray-700" placeholder="é–‹å§‹æ’°å¯«..." oninput="analyzeSEO()">
                        <p class="text-gray-400">è«‹é–‹å§‹æ’°å¯«ç¬¦åˆ SEO æ¶æ§‹çš„å…§å®¹...</p>
                    </div>
                </div>
            </div>
        </main>

        <aside class="w-[20%] bg-white border-l border-gray-300 p-5 overflow-y-auto">
            <h3 class="font-bold text-black mb-4 border-b-2 border-shine-gold pb-2">âœ… SEO æª¢æŸ¥æ¸…å–®</h3>
            
            <ul class="space-y-3 text-sm text-gray-600">
                <li id="check-h1" class="flex items-center"><span class="status-dot bg-red-500"></span> ç¼ºå°‘ H1 æ¨™é¡Œ</li>
                <li id="check-kw-title" class="flex items-center"><span class="status-dot bg-red-500"></span> æ¨™é¡ŒåŒ…å«é—œéµå­—</li>
                <li id="check-kw-content" class="flex items-center"><span class="status-dot bg-red-500"></span> å…§å®¹å‡ºç¾é—œéµå­—</li>
                <li id="check-aeo" class="flex items-center"><span class="status-dot bg-red-500"></span> AEO å•ç­”çµæ§‹</li>
                <li id="check-length" class="flex items-center"><span class="status-dot bg-red-500"></span> å­—æ•¸é”æ¨™ (>600å­—)</li>
            </ul>

            <div class="mt-8 p-4 bg-gray-100 rounded">
                <h4 class="font-bold text-xs mb-2">ğŸ¤– ç”¢ç”Ÿ Schema (JSON-LD)</h4>
                <p class="text-xs text-gray-500 mb-2">æ–‡ç« å¯«å®Œå¾Œï¼Œé»æ“Šä¸‹æ–¹æŒ‰éˆ•è¤‡è£½çµæ§‹åŒ–è³‡æ–™ï¼Œè²¼åˆ°ç¶²ç«™å¾Œå°å¯å¢åŠ  Google æ”¶éŒ„æ©Ÿç‡ã€‚</p>
                <button onclick="generateSchema()" class="w-full bg-shine-gold text-black font-bold text-xs py-2 rounded hover:bg-yellow-500">
                    è¤‡è£½ Schema ä»£ç¢¼
                </button>
            </div>
        </aside>

    </div>

    <script>
        // 1. å³æ™‚é è¦½åŠŸèƒ½ (SERP Preview)
        function updatePreview() {
            const title = document.getElementById('metaTitle').value;
            const desc = document.getElementById('metaDesc').value;
            
            // æ›´æ–°ç•«é¢
            document.getElementById('previewTitle').innerText = title || "è«‹è¼¸å…¥ SEO æ¨™é¡Œ...";
            document.getElementById('previewDesc').innerText = desc || "è«‹è¼¸å…¥ Meta Description...";
            
            // å­—æ•¸è¨ˆæ•¸èˆ‡è­¦å‘Š
            document.getElementById('titleCount').innerText = title.length;
            document.getElementById('descCount').innerText = desc.length;

            const tCount = document.getElementById('titleCount');
            tCount.style.color = title.length > 60 ? 'red' : 'green';

            const dCount = document.getElementById('descCount');
            dCount.style.color = desc.length > 160 ? 'red' : 'green';
            
            analyzeSEO();
        }

        // 2. æ’å…¥æ¨¡çµ„
        function insertTemplate(type) {
            const editor = document.getElementById('editor');
            if(editor.innerHTML.includes('è«‹é–‹å§‹æ’°å¯«')) editor.innerHTML = ''; // æ¸…ç©º placeholder

            let html = '';
            if (type === 'aeo') {
                html = `
                    <div class="my-6 p-4 bg-gray-50 border-l-4 border-shine-gold" data-aeo="true">
                        <h2 class="text-lg font-bold text-black mb-1">Q: [ç”¨æˆ¶å¸¸è¦‹å•é¡Œ]</h2>
                        <p class="text-gray-800 font-semibold mb-2">A: (ç›´æ¥å›ç­”çµè«–ï¼Œç´„ 50 å­—)</p>
                        <p class="text-sm text-gray-600">é€²ä¸€æ­¥è©³è§£ï¼šåœ¨é€™è£¡è£œå……é†«å¸«çš„å°ˆæ¥­è§€é»èˆ‡æ•¸æ“šæ”¯æŒ...</p>
                    </div><br>
                `;
            } else if (type === 'h2') {
                html = `<h2>è«‹è¼¸å…¥å‰¯æ¨™é¡Œ (åŒ…å«é—œéµå­—)</h2><p>æ®µè½å…§å®¹...</p>`;
            } else if (type === 'cta') {
                html = `<div style="background:#000;color:#D4AF37;padding:15px;text-align:center;margin:20px 0;"><b>ç«‹å³é ç´„å…‰æ¾¤ç¾å­¸è«®è©¢</b></div><br>`;
            }
            editor.innerHTML += html;
            analyzeSEO();
        }

        // 3. SEO æ·±åº¦åˆ†æé‚è¼¯
        function analyzeSEO() {
            let score = 0;
            const kw = document.getElementById('focusKeyword').value.trim();
            const title = document.getElementById('metaTitle').value;
            const h1 = document.getElementById('h1Input').value;
            const content = document.getElementById('editor').innerText;
            const rawHtml = document.getElementById('editor').innerHTML;

            // æª¢æŸ¥ H1
            const h1Check = document.getElementById('check-h1');
            if(h1.length > 0) { h1Check.innerHTML = '<span class="status-dot bg-green-500"></span> H1 è¨­å®šå®Œæˆ'; score += 20; }
            else { h1Check.innerHTML = '<span class="status-dot bg-red-500"></span> ç¼ºå°‘ H1 æ¨™é¡Œ'; }

            // æª¢æŸ¥é—œéµå­—
            if(kw) {
                // Title
                const kwInTitle = document.getElementById('check-kw-title');
                if(title.includes(kw)) { kwInTitle.innerHTML = '<span class="status-dot bg-green-500"></span> æ¨™é¡ŒåŒ…å«é—œéµå­—'; score += 20; }
                else { kwInTitle.innerHTML = '<span class="status-dot bg-red-500"></span> æ¨™é¡ŒæœªåŒ…å«é—œéµå­—'; }

                // Content
                const regex = new RegExp(kw, 'gi');
                const matches = content.match(regex);
                const count = matches ? matches.length : 0;
                document.getElementById('kwCount').innerText = count;
                document.getElementById('kwDensity').innerText = (content.length > 0 ? (count * kw.length / content.length * 100).toFixed(1) : 0) + '%';
                
                const kwInContent = document.getElementById('check-kw-content');
                if(count > 0) { kwInContent.innerHTML = '<span class="status-dot bg-green-500"></span> å…§å®¹å‡ºç¾é—œéµå­—'; score += 20; }
                else { kwInContent.innerHTML = '<span class="status-dot bg-red-500"></span> å…§å®¹æœªå‡ºç¾é—œéµå­—'; }
            }

            // æª¢æŸ¥ AEO çµæ§‹
            const aeoCheck = document.getElementById('check-aeo');
            if(rawHtml.includes('data-aeo="true"')) { aeoCheck.innerHTML = '<span class="status-dot bg-green-500"></span> å·²åŠ å…¥ AEO çµæ§‹'; score += 20; }
            else { aeoCheck.innerHTML = '<span class="status-dot bg-yellow-500"></span> å»ºè­°åŠ å…¥ AEO å•ç­”'; }

            // æª¢æŸ¥å­—æ•¸
            const lenCheck = document.getElementById('check-length');
            if(content.length > 600) { lenCheck.innerHTML = '<span class="status-dot bg-green-500"></span> å­—æ•¸å……è¶³'; score += 20; }
            else { lenCheck.innerHTML = '<span class="status-dot bg-red-500"></span> å­—æ•¸éå°‘ (' + content.length + ')'; }

            document.getElementById('seoScore').innerText = score;
        }

        // 4. ç”¢ç”Ÿ Schema
        function generateSchema() {
            const h1 = document.getElementById('h1Input').value;
            const desc = document.getElementById('metaDesc').value;
            const schema = {
                "@context": "https://schema.org",
                "@type": "Article",
                "headline": h1,
                "description": desc,
                "author": {
                    "@type": "Organization",
                    "name": "å…‰æ¾¤è¨ºæ‰€ Dr.Shine"
                },
                "publisher": {
                    "@type": "Organization",
                    "name": "å…‰æ¾¤è¨ºæ‰€",
                    "logo": {
                        "@type": "ImageObject",
                        "url": "https://www.dr-shine.com.tw/logo.png"
                    }
                }
            };
            
            // è¤‡è£½åˆ°å‰ªè²¼ç°¿
            const textArea = document.createElement("textarea");
            textArea.value = '<script type="application/ld+json">\n' + JSON.stringify(schema, null, 2) + '\n<\/script>';
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("Copy");
            textArea.remove();
            alert("âœ… Schema ä»£ç¢¼å·²è¤‡è£½ï¼\nè«‹è²¼åˆ°ç¶²é çš„ <head> æˆ– <body> åº•éƒ¨ã€‚\né€™èƒ½å¹«åŠ© Google ç†è§£é€™æ˜¯ä¸€ç¯‡å°ˆæ¥­é†«ç™‚æ–‡ç« ã€‚");
        }
    </script>
</body>
</html>
